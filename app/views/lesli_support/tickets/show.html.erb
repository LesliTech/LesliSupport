<%= render(LesliView::Layout::Container.new("support-tickets-#{@ticket.id}")) do %>

    <%= render(LesliView::Components::Header.new("#{@ticket.uid} - #{@ticket.subject}")) %>

    <%= render LesliView::Components::Tabs.new(active_tab: "ticket-information") do |tabs| %>

        <% tabs.with_tab(id:"ticket-information", title:"information", icon:"info") do %>
            <%= render("form") %>
        <% end %>

        <% tabs.with_tab(id:"ticket-discussions", title:"Discussions", icon:"forum") do %>
            <%= render(LesliView::Items::Discussions.new(@ticket, ticket_discussions_path(@ticket))) %>
        <% end %>

        <% tabs.with_tab(id:"ticket-actions", title:"Actions", icon:"checklist") do %>
            <%= render(LesliView::Items::Actions.new(
                @ticket, 
                path_to_create:ticket_actions_path(@ticket), 
                path_to_update:->(action) { ticket_action_path(@ticket, action)}
            )) %>
        <% end %>

        <% tabs.with_tab(id:"ticket-activities", title:"Activities", icon:"search_activity") do %>
            <%= render(LesliView::Items::Activities.new(@ticket, icons: {
                type_id: 'star',
                owner_id: 'favorite',
                priority_id: 'sunny',
                category_id: 'search'
            })) %>
        <% end %>
    <% end %>
<% end %>
